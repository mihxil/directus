= Directus poc (proof of concept), wip

https://docs.directus.io/contributing/running-locally.html

https://jira.vpro.nl/browse/SYS-1179



== local database

[source, bash]
----
michiel@mitulo:(poc)~/github/mihxil/directus$ psq
psql (14.8 (Homebrew))
Type "help" for help.

postgres=# create user directus with password 'admin2k';
CREATE ROLE
postgres=# create database directus;
postgres=# grant all privileges on database directus  to  directus;


michiel@mitulo:(poc,1)~/github/mihxil/directus$ pnpm --filter api cli bootstrap

----

 http://localhost:5173/


== Findings

It sais to run the latest version of node. But if I run 20, it sais that it s too new.
[source,bash]
----
michiel@mitulo:(poc)~/github/mihxil/directus$ pnpm install
Scope: all 33 workspace projects
Lockfile is up to date, resolution step is skipped
 ERR_PNPM_UNSUPPORTED_ENGINE  Unsupported environment (bad pnpm and/or Node.js version)

Your Node version is incompatible with "/@azure/msal-node/1.17.2".

Expected version: 10 || 12 || 14 || 16 || 18
Got: v20.3.0

This is happening because the package's manifest has an engines.node field specified.
To fix this issue, install the required Node version.
michiel@mitulo:(poc)~/github/mihxil/directus$


michiel@mitulo:(poc)~/github/mihxil/directus$ nvm install 18
nvm use 18
pnpm install
----


Confusing is that running  `pnpm --recursive dev` seems to just start the documentation locally again. Which I could read online as well.

I've no to idea how to try something out.

It works better if you run both app and api.

I think the bootstrapping created a random passwor,d which I didn't catch.

Retry:

[11:30:07.009] INFO: No admin email provided. Defaulting to "admin@example.com"
[11:30:07.009] INFO: No admin password provided. Defaulting to "dV6Br7QG1va7"

pnpm --filter api dev
pnpm --filter app dev

 http://localhost:8080/admin/
  ➜  Network: use --host to expose


Dan kan ik een model in elkaar klikken.

==

